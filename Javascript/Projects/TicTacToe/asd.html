<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        font-family: Arial, sans-serif;
      }
      #board {
        display: grid;
        grid-template-columns: repeat(3, 100px);
        grid-gap: 5px;
        margin-top: 20px;
      }
      .cell {
        width: 100px;
        height: 100px;
        font-size: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border: 1px solid #ddd;
      }
    </style>
    <title>Tic Tac Toe</title>
  </head>
  <body>
    <div id="board"></div>
    <p id="status"></p>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const boardElement = document.getElementById("board");
        const statusElement = document.getElementById("status");

        let board = [
          ["", "", ""],
          ["", "", ""],
          ["", "", ""],
        ];

        let currentPlayer = "X";
        let gameActive = true;

        // Initialize the game board
        function initializeBoard() {
          boardElement.innerHTML = "";
          for (let row = 0; row < 3; row++) {
            for (let col = 0; col < 3; col++) {
              const cell = document.createElement("div");
              cell.classList.add("cell");
              cell.dataset.row = row;
              cell.dataset.col = col;
              cell.addEventListener("click", handleCellClick);
              boardElement.appendChild(cell);
            }
          }
        }

        // Handle cell click event
        function handleCellClick(event) {
          const clickedCell = event.target;
          const row = clickedCell.dataset.row;
          const col = clickedCell.dataset.col;

          // Check if the clicked cell is empty and the game is still active
          if (board[row][col] === "" && gameActive) {
            // Update the board array and the UI
            board[row][col] = currentPlayer;
            clickedCell.textContent = currentPlayer;

            // Check for a winner or a draw
            if (checkWinner()) {
              statusElement.textContent = `Player ${currentPlayer} wins!`;
              gameActive = false;
            } else if (checkDraw()) {
              statusElement.textContent = "It's a draw!";
              gameActive = false;
            } else {
              // Switch to the other player
              currentPlayer = currentPlayer === "X" ? "O" : "X";
              statusElement.textContent = `Player ${currentPlayer}'s turn`;
            }
          }
        }

        // Check if there is a winner
        function checkWinner() {
          // Check rows, columns, and diagonals for a winner
          for (let i = 0; i < 3; i++) {
            if (
              checkLine(board[i][0], board[i][1], board[i][2]) ||
              checkLine(board[0][i], board[1][i], board[2][i])
            ) {
              return true;
            }
          }

          if (
            checkLine(board[0][0], board[1][1], board[2][2]) ||
            checkLine(board[0][2], board[1][1], board[2][0])
          ) {
            return true;
          }

          return false;
        }

        // Check if a line has three equal symbols
        function checkLine(a, b, c) {
          return a !== "" && a === b && b === c;
        }

        // Check if the game is a draw
        function checkDraw() {
          return board.every((row) => row.every((cell) => cell !== ""));
        }

        // Start the game
        initializeBoard();
        statusElement.textContent = `Player ${currentPlayer}'s turn`;
      });
    </script>
  </body>
</html>
