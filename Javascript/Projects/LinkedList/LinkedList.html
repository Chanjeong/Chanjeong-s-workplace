<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function LinkedList() {
        return {
          head: null,
          append(value) {
            let newNode = Node(value);
            if (!this.head) {
              this.head = newNode;
              return true;
            } else {
              let currentNode = this.head;
              while (currentNode.nextNode) {
                currentNode = currentNode.nextNode;
              }
              currentNode.nextNode = newNode;
              return true;
            }
          },
          prepend(value) {
            let firstNode = Node(value);
            if (this.head) {
              firstNode.nextNode = this.head;
            }
            this.head = firstNode;
            return true;
          },
          size() {
            let currentNode = this.head;
            let total = 1;
            while (currentNode.nextNode) {
              currentNode = currentNode.nextNode;
              total++;
            }
            return total;
          },
          head1() {
            return this.head;
          },
          tail() {
            let lastNode = this.head;
            while (lastNode.nextNode) {
              lastNode = lastNode.nextNode;
            }
            return lastNode;
          },
          at(index) {
            let currentNode = this.head;
            let count = 1;
            while (currentNode.nextNode) {
              currentNode = currentNode.nextNode;
              count++;
              if (count == index) {
                break;
              } else if (count < index) {
                return false;
              }
            }
            return currentNode;
          },
          pop() {
            let currentNode = this.head;
            let previousNode = null;
            while (currentNode.nextNode) {
              previousNode = currentNode;
              currentNode = currentNode.nextNode;
            }
            if (previousNode) {
              previousNode.nextNode = null;
            } else {
              this.head = null;
            }
          },
          contain(value) {
            let currentNode = this.head;
            while (currentNode) {
              if (currentNode.value === value) {
                return true;
              }
              currentNode = currentNode.nextNode;
            }
            return false;
          },
          find(value) {
            let currentNode = this.head;
            let index = 1;
            while (currentNode) {
              if (currentNode.value === value) {
                return index;
              }
              currentNode = currentNode.nextNode;
              index++;
            }
            return null;
          },
          toString() {
            let lists = [];
            let currentNode = this.head;
            while (currentNode) {
              lists.push(currentNode.value);
              currentNode = currentNode.nextNode;
            }
            console.log(lists.join("->"));
            return true;
          },
          insertAt(value, index) {
            let newNode = Node(value);
            if (index === 1) {
              newNode.nextNode = this.head;
              this.head = newNode;
              return true;
            }

            let currentNode = this.head;
            let previousNode = null;
            let count = 1;

            while (count < index && currentNode) {
              previousNode = currentNode;
              currentNode = currentNode.nextNode;
              count++;
            }

            if (count === index) {
              newNode.nextNode = currentNode;
              previousNode.nextNode = newNode;
              return true;
            } else {
              return false;
            }
          },

          removeAt(index) {
            if (index === 1) {
              this.head = this.head.nextNode;
              return true;
            }

            let currentNode = this.head;
            let previousNode = null;
            let count = 1;

            while (count < index && currentNode) {
              previousNode = currentNode;
              currentNode = currentNode.nextNode;
              count++;
            }

            if (count === index && currentNode) {
              previousNode.nextNode = currentNode.nextNode;
              return true;
            } else {
              return false;
            }
          },
        };
      }

      function Node(value = null, nextNode = null) {
        return { value, nextNode };
      }

      const linkedlist = LinkedList();
      console.log(linkedlist.append("hyunsu"));
      console.log(linkedlist.append("chanjeong"));
      console.log(linkedlist.prepend("yuna"));
      console.log(linkedlist.prepend("jisung"));
      console.log(linkedlist.size());
      console.log(linkedlist.contain("Mbappe"));
      console.log(linkedlist.insertAt("kangin", 3));
      console.log(linkedlist.toString());
    </script>
  </body>
</html>
